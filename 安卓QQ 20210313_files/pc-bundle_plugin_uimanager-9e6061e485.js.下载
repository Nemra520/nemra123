(window.webpackJsonp=window.webpackJsonp||[]).push([["bundle_plugin_uimanager"],{"./src/external/uiManager/uiManager.ts":function(e,a,i){"use strict";i.r(a),function(e){i.d(a,"default",(function(){return P}));var n=i("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),t=i("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=i("./src/base/event/eventName.ts"),l=i("./src/base/util/browser.ts"),d=i("./src/base/index.ts"),h=e,P=function(){function a(e){Object(n.a)(this,a),this.app=e,this.init()}return Object(t.a)(a,[{key:"init",value:function(){var e=this;this.app.event.init.listen(o.a.AFTER_ALL_RENDER,(function(){e.initCommon(),e.initPC()}))}},{key:"initCommon",value:function(){this.app.event.default.listen(o.a.UI_SHOW,(function(){}))}},{key:"initPC",value:function(){var e=this;this.app.event.default.listen(o.a.UI_SHOW,(function(a){switch(a){case"search-panel-pc":e.hideToolbarMorePC(),e.hideToolbarDropdownPC(),e.hideDropdownPC(),e.hideFilterPanelPCPad();break;case"formula-editor-panel":e.hideCanvasCard()}})),this.app.event.toolBar.listen(o.a.UI_SHOW,(function(a){switch(a){case"filter-panel-pc":e.hideSearchReplacePanelPc()}})),this.event.toolBar.listen("beforePCFormulaPanelShow",(function(){e.hideConditionalFormatPC(),e.hideRangeAuth(),e.hideCooperationV2(),e.hideChartPanel()})),this.event.toolBar.listen("conditionalFormatPanelShow",(function(){e.hideFormulaPadPC(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad()})),this.event.toolBar.listen("chartPanelShow",(function(){e.hideFormulaPadPC(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad()})),this.event.toolBar.listen("recordChangePanelBeforeShow",(function(){e.hideConditionalFormatPC(),e.hideChartPanel(),e.hideCooperationV2(),e.hideAuthPanelPCPad()})),this.event.toolBar.listen("readRecordPanelShow",(function(){e.hideConditionalFormatPC(),e.hideRangeAuth(),e.hideChartPanel()})),this.event.toolBar.listen("authSharePanelShow",(function(){e.hideConditionalFormatPC(),e.hideChartPanel(),e.hideMentionPanel(0),e.hideFormulaPadPC()})),this.event.default.listen("record-hide-side",(function(){e.hideMentionPanel(0),e.hideAuthPanelPCPad(),e.hideReadRecordPCPad()})),this.event.default.listen("CooperationV2Show",(function(a){a&&e.hideRangeAuth()})),this.event.rangeAuthEvent.listen("showRangeAuthSidebar",(function(){e.hideCooperationV2(),e.hideSearchReplacePanelPc(),e.hideFormulaPadPC(),e.hideReadRecordPCPad()})),this.event.default.listen("discussShow",(function(){e.hideRangeAuth()}))}},{key:"initPad",value:function(){var e=this;this.app.event.default.listen(o.a.UI_SHOW,(function(a){switch(a){case"formula-board":e.hideToolPanelMobilePad();break;case"filter-panel-pc":e.hideToolPanelMobilePad(),e.hideCanvasCard(),e.hideTableMenuMobilePad(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad();break;case"search-panel-m":e.hideToolPanelMobilePad(),e.hideHeaderMobilePad(),e.hideMentionPanel();break;case"more-menu-m":e.hideQuickPanelAndToolPanelMobilePad(),e.hideToolPanelMobilePad(),e.hideMentionPanel();break;case"auth-m":e.hideQuickPanelAndToolPanelMobilePad(),e.hideToolPanelMobilePad();break;case"formula-editor-panel":e.hideCanvasCard();break;case"comment-panel-m":e.hideQuickPanelAndToolPanelMobilePad(),e.hideToolPanelMobilePad(),e.hideHeaderMobilePad(),e.hideSearchReplacePanelMobilePad();break;case"shape-zoom-m":case"qqshare-m":e.hideQuickPanelAndToolPanelMobilePad()}})),this.app.event.default.listen(o.a.UI_HIDE,(function(a){var i=e.app.view.canvas.normalSelectData.isValid();switch(a){case"shape-zoom-m":i&&e.showQuickPanel()}})),this.event.toolBar.listen("beforeToolPanelShow",(function(){e.hideCanvasCard(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad()})),this.event.toolBar.listen("beforePCFormulaPanelShow",(function(){e.hideCanvasCard(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad()})),this.app.view.canvas.linkCenter.card.emitter.on(this.app.view.canvas.linkCenter.card.EVENT.SHOW_MODIFY,(function(){e.hideFormulaPadPC(),e.hideToolPanelMobilePad(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad()})),this.event.default.listen("record-hide-side",(function(){e.hideMentionPanel(0),e.hideAuthPanelPCPad(),e.hideReadRecordPCPad()})),this.event.toolBar.listen("headerMoreMenuShow",(function(){e.hideCanvasCard(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad()})),this.app.view.canvas.contextMenu.emitter.on(this.app.view.canvas.contextMenu.EVENT.SHOW,(function(){e.hideCanvasCard(),e.hideFilterPanelPCPad(),e.hideFormulaPadPC(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideMentionPanel()})),h.addEventListener("resize",(function(){Object(l.c)()<.5&&(e.hideFilterPanelPCPad(),e.hideCanvasCard(),e.hideTableMenuMobilePad(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideTemplateInfoPCPad())})),this.app.event.view.listen(o.a.ENTER_INPUT_STATUS,(function(){e.hideFilterPanelPCPad(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad(),e.hideCanvasCard()})),this.event.toolBar.listen("validationListShow",(function(){e.hideFilterPanelPCPad(),e.hideReadRecordPCPad(),e.hideAuthPanelPCPad()})),this.app.view.canvas.smartDrag.emitter.on(this.app.view.canvas.smartDrag.EVENT.ENTER_SMART_DRAG,(function(){e.hideToolPanelMobilePad()}))}},{key:"initMobile",value:function(){var e=this;this.app.event.default.listen(o.a.UI_SHOW,(function(a){switch(a){case"formula-board":e.hideToolPanelMobilePad();break;case"filter-panel-m":e.hideSearchReplacePanelMobilePad(),e.hideMentionPanel(),e.hideQuickPanelAndToolPanelMobilePad();break;case"validation-list-card-m":e.hideSearchReplacePanelMobilePad(),e.hideCanvasCard(),e.hideMentionPanel(),e.hideQuickPanelAndToolPanelMobilePad();break;case"search-panel-m":e.hideToolPanelMobilePad(),e.hideHeaderMobilePad();break;case"more-menu-m":e.hideFilterPanelPCPad(),e.hideMentionPanel(),e.hideQuickPanelAndToolPanelMobilePad();break;case"auth-m":case"switch-sheet":case"qqshare-m":e.hideQuickPanelAndToolPanelMobilePad();break;case"comment-panel-m":e.hideSearchReplacePanelMobilePad(),e.hideHeaderMobilePad(),e.hideQuickPanelAndToolPanelMobilePad();break;case"at-message":case"shape-zoom-m":e.hideQuickPanelAndToolPanelMobilePad()}})),this.app.event.default.listen(o.a.UI_HIDE,(function(a){var i=e.app.view.canvas.normalSelectData.isValid();switch(a){case"filter-panel-m":case"validation-list-card-m":case"at-message":case"shape-zoom-m":i&&e.showQuickPanel()}})),this.app.event.view.listen(o.a.SCREEN_ROTATE,(function(a){"landscape"===a&&(e.hideFilterPanelPCPad(),e.hideQuickPanelAndToolPanelMobilePad(),e.hideToolPanelMobilePad(),e.hideMentionPanel())})),this.app.view.canvas.smartDrag.emitter.on(this.app.view.canvas.smartDrag.EVENT.ENTER_SMART_DRAG,(function(){e.hideToolPanelMobilePad()})),this.app.event.view.listen(o.a.ENTER_INPUT_STATUS,(function(){e.hideCanvasCard(),e.hideValidationListPanel()})),this.app.view.canvas.contextMenu.emitter.on(this.app.view.canvas.contextMenu.EVENT.SHOW,(function(){e.hideMentionPanel()}))}},{key:"hideToolPanelMobilePad",value:function(){var e,a=null===(e=this.app.view.mobileToolBar)||void 0===e?void 0:e.components.toolPanel;null===a||void 0===a||a.panel.hide()}},{key:"hideQuickPanelAndToolPanelMobilePad",value:function(){var e;null===(e=this.app.view.mobileToolBar)||void 0===e||e.hide()}},{key:"showQuickPanel",value:function(){var e;null===(e=this.app.view.mobileToolBar)||void 0===e||e.showQuickPanel()}},{key:"hideFormulaPadPC",value:function(){var e;null===(e=this.app.view.plugins.formulaEditorPanel)||void 0===e||e.hide()}},{key:"hideTableMenuMobilePad",value:function(){var e;null===(e=this.app.view.canvas.contextMenu)||void 0===e||e.hide()}},{key:"hideFilterPanelPCPad",value:function(){var e;null===(e=this.app.view.plugins.filterPanel)||void 0===e||e.hide()}},{key:"hideReadRecordPCPad",value:function(){e.CoreSheet.ReadRecordModule.hideReadRecord()}},{key:"hideAuthPanelPCPad",value:function(){var e;null===(e=this.app.view.plugins.authPanel)||void 0===e||e.hide()}},{key:"hideTemplateInfoPCPad",value:function(){var a;null===(a=e.CoreSheet.templateInfo)||void 0===a||a.hide()}},{key:"hideSearchReplacePanelMobilePad",value:function(){var e;null===(e=this.app.view.canvas.searchReplaceCenter)||void 0===e||e.close()}},{key:"hideSearchReplacePanelPc",value:function(){var e=this.app.view.canvas.searchReplaceCenter;null===e||void 0===e||e.close()}},{key:"hideCanvasCard",value:function(){this.app.view.canvas.cardCenter.hide()}},{key:"hideHeaderMobilePad",value:function(){var e,a;null===(e=this.app.view.header)||void 0===e||e.exitFullScreen(),null===(a=this.app.view.header)||void 0===a||a.hideHeader()}},{key:"hideToolbarMorePC",value:function(){this.app.event.toolBar.trigger("hide-more")}},{key:"hideToolbarDropdownPC",value:function(){this.app.event.default.trigger("close-toolbar-dropdown")}},{key:"hideDropdownPC",value:function(){d.a.event.notificationCenter.trigger("closedropdown")}},{key:"hideConditionalFormatPC",value:function(){var e,a;null===(e=this.app.view.plugins)||void 0===e||null===(a=e.conditionalFormatPanel)||void 0===a||a.hide()}},{key:"hideChartPanel",value:function(){var e,a;null===(e=this.app.view.plugins)||void 0===e||null===(a=e.chartPanel)||void 0===a||a.hide()}},{key:"hideValidationListPanel",value:function(){var e,a;null===(e=this.app.view.plugins)||void 0===e||null===(a=e.validationListPanel)||void 0===a||a.close()}},{key:"hideMentionPanel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch(e){case 0:d.a.event.mentionEvent.trigger("cancelMentionAction");break;case 1:default:d.a.event.mentionEvent.trigger("hideQuickRemindMenu")}}},{key:"hideCooperationV2",value:function(){d.a.event.default.trigger("CooperationV2Hide")}},{key:"hideRangeAuth",value:function(){d.a.event.rangeAuthEvent.trigger("hideRangeAuth")}},{key:"hidePcDiscuss",value:function(){d.a.event.toolBar.trigger("hidePcDiscuss")}},{key:"event",get:function(){return this.app.event}}]),a}()}.call(this,i("../node_modules/webpack/buildin/global.js"))}}]);
//# sourceMappingURL=pc-bundle_plugin_uimanager-9e6061e485.js.map